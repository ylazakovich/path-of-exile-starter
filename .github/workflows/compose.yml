name: "Run docker compose"
on:
  push:
    branches: [main]
  pull_request:
    branches: [main]
env:
  CI: true
  GRADLE_OPTS: -Dorg.gradle.console=plain
  COMPOSE_PROJECT_NAME: path-of-exile-starter

jobs:
  check-docker-compose:
    runs-on: ubuntu-latest
    steps:
      - name: üî®Checkout
        uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6

      - name: üê≥ Check Docker Compose
        uses: ylazakovich/compose-health-check-action@24a1318f819fe838075942cbc60de151afe36d41 # v1
        with:
          compose-files: |
            tools/docker/docker-compose.yml
            tools/docker/docker-compose.override.yml
          services: |
            spring-webflux-aggregator 
            spring-telegram-webhook
          timeout: "120"
