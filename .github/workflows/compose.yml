name: "Run docker compose"
on:
  push:
    branches: [main]
  pull_request:
    branches: [main]
env:
  CI: true
  GRADLE_OPTS: -Dorg.gradle.console=plain
  COMPOSE_PROJECT_NAME: path-of-exile-starter

jobs:
  check-docker-compose:
    runs-on: ubuntu-latest
    steps:
      - name: üî®Checkout
        uses: actions/checkout@1af3b93b6815bc44a9784bd300feb67ff0d1eeb3 # v6

      - name: üê≥ Check Docker Compose
        uses: ylazakovich/compose-health-check-action@v1
        with:
          compose-files: |
            tools/docker/docker-compose.yml
            tools/docker/docker-compose.override.yml
          services: |
            spring-webflux-aggregator 
            spring-telegram-webhook
          timeout: "60"

