subprojects {
    checkstyle {
        toolVersion = "10.23.0"
    }

    tasks.withType(Checkstyle).configureEach {
        maxWarnings = 0
        showViolations = true
        reports {
            xml.required = System.getenv('CI') != null
            html.required = System.getenv('CI') == null
        }
    }

    spotless {
        java {
            googleJavaFormat()
            target 'src/**/*.java'
        }

        format('misc') {
            target '*.gradle', '*.md', '.gitignore'
            trimTrailingWhitespace()
            endWithNewline()
        }
    }
}
